@using B2BTecnology.Financeiro.DTO
@model B2BTecnology.Financeiro.DTO.ContratoDTO

<div class="row">
    <div class="col-lg-12">
        <h4 class="page-header">
            Informações Contratuais
        </h4>
    </div>
</div>

@Html.Hidden("Contratos[0].IdContrato", Model.IdContrato)
@Html.Hidden("Contratos[0].ClienteId", Model.ClienteId)

<div class="row">
    <div class="col-lg-12 ">
        <div class="form-group col-lg-5">
            <label class="control-label">Data Contrato: </label>
            <input class="form-control datepicker" id="DataContrato" name="Contratos[0].DataContrato" maxlength="10" type="text" value="@(Model.DataContrato == null ? "" : @Model.DataContrato.Value.ToString("dd/MM/yyyy"))" />
        </div>
        <div class="form-group col-md-6">
            <label class="control-label">Dia Vencimento: </label>
            <br />
            <input class="form-control inteiro" id="diavencimento" name="Contratos[0].DiaVencimento" type="text" value="@(Model.DiaVencimento == 0 ? "" : Model.DiaVencimento.ToString())" />
        </div>
    </div>
</div>

<div class="row">
    <div class="col-lg-12 ">
        <div class="form-group col-lg-5">
            <label class="control-label">Cadência Fixa: </label>
            <input class="form-control" id="CadenciaFixa" name="Contratos[0].CadenciaFixa" type="text" value="@Model.CadenciaFixa" />
        </div>
        <div class="form-group col-lg-5">
            <label class="control-label">Cadência Movel: </label>
            <input class="form-control" id="CadenciaMovel" name="Contratos[0].CadenciaMovel" type="text" value="@Model.CadenciaMovel" />
        </div>
    </div>
</div>

<div class="row">
    <div class="col-lg-12 ">
        <div class="form-group col-lg-5">
            <label class="control-label">Consúmo Mínimo: </label>
            <input class="form-control numeral" id="ValorConsumoMinimo" name="Contratos[0].ValorConsumoMinimo" type="text" value="@Model.ValorConsumoMinimo" />
        </div>
        <div class="form-group col-lg-5">
            <label class="control-label">Mensalidade: </label>
            <input class="form-control numeral" id="ValorMensalidade" name="Contratos[0].ValorMensalidade" type="text" value="@Model.ValorMensalidade" />
        </div>
    </div>
</div>

<div class="row">
    <div class="col-lg-12 ">
        <div class="form-group col-md-8">
            <label class="control-label">Prazo Contratual: </label>
            <br />
            <div class="radio-inline">
                <input type="radio" name="prazocontratual" value="1" @((Model.PrazoContratual == Enumeradores.PrazoContratual.SeisMeses.GetHashCode() || Model.IdContrato == 0) ? "checked" : "") /> 6 Meses
            </div>
            <div class="radio-inline">
                <input type="radio" name="prazocontratual" value="2" @((Model.PrazoContratual == Enumeradores.PrazoContratual.DozeMeses.GetHashCode()) ? "checked" : "") /> 12 Meses
            </div>
            <div class="radio-inline">
                <input type="radio" name="prazocontratual" value="3" @((Model.PrazoContratual == Enumeradores.PrazoContratual.VinteQuatroMeses.GetHashCode()) ? "checked" : "") /> 24 Meses
            </div>
            <div class="radio-inline">
                <input type="radio" name="prazocontratual" value="4" @((Model.PrazoContratual == Enumeradores.PrazoContratual.Indeterminado.GetHashCode()) ? "checked" : "") /> Indetermindo
            </div>
            <input type="hidden" id="prazoContratual" name="Contratos[0].PrazoContratual" value="@Model.PrazoContratual" />
        </div>
    </div>
</div>

<div class="row">
    <div class="col-lg-12">
        <h4 class="page-header">
            Valor Tarifa:
        </h4>
    </div>
</div>

<div class="row">
    <div class="col-lg-12 ">
        <div class="form-group col-lg-1">
            <label class="control-label">Local: </label>
            <input class="form-control numeral" id="ValorTarifaLocal" name="Contratos[0].ValorTarifaLocal" maxlength="4" type="text" value="@Model.ValorTarifaLocal.ToString("N2")" />
        </div>
        <div class="form-group col-lg-1">
            <label class="control-label">LDN: </label>
            <input class="form-control numeral" id="ValorTarifaLdn" name="Contratos[0].ValorTarifaLdn" maxlength="4" type="text" value="@Model.ValorTarifaLdn.ToString("N2")" />
        </div>
        <div class="form-group col-lg-1">
            <label class="control-label">VC1: </label>
            <input class="form-control numeral" id="ValorTarifaVc1" name="Contratos[0].ValorTarifaVc1" maxlength="4" type="text" value="@Model.ValorTarifaVc1.ToString("N2")" />
        </div>
        <div class="form-group col-lg-1">
            <label class="control-label">VC2: </label>
            <input class="form-control numeral" id="ValorTarifaVc2" name="Contratos[0].ValorTarifaVc2" maxlength="4" type="text" value="@Model.ValorTarifaVc2.ToString("N2")" />
        </div>
        <div class="form-group col-lg-1">
            <label class="control-label">VC3: </label>
            <input class="form-control numeral" id="ValorTarifaVc3" name="Contratos[0].ValorTarifaVc3" maxlength="4" type="text" value="@Model.ValorTarifaVc3.ToString("N2")" />
        </div>
    </div>
</div>


<div class="row">
    <div class="col-lg-12">
        <h4 class="page-header">
            Equipamentos:
        </h4>
    </div>
</div>

<div class="row">
    <div class="col-lg-12 ">
        <div class="form-group col-md-5">
            <label>Valor Instalação: </label>
            <input type="text" class="form-control numeral" name="Contratos[0].ValorInstalacao" value="@Model.ValorInstalacao.ToString("N2")">
        </div>
    </div>
</div>

<div class="row">
    <div class="col-lg-12 ">
        <div class="form-group col-md-5">
            <label>Equipamentos: </label>
            @Html.DropDownList("Contratos[0].EquipamentoId", (IEnumerable<SelectListItem>)ViewBag.Equipamentos, new { @class = "form-control" })
        </div>
    </div>
</div>

<div class="row">
    <div class="col-lg-12">
        <table class="table table-hover table-striped">
            <thead>
                <tr>
                    <th>
                        Modelo
                    </th>
                    <th>
                        Série
                    </th>
                    <th></th>
                </tr>
            </thead>
            <tbody>

                @foreach (var equipamento in Model.Equipamentos)
                {
                    <tr>
                        <td>
                            @equipamento.Modelo
                            <input type="hidden" value="@(equipamento.IdEquipamento)" />
                            <input type="hidden" value="@(equipamento.Modelo)"/>
                        </td>
                        <td>
                            @equipamento.NumeroSerie
                            <input type="hidden" value="@(equipamento.NumeroSerie)" />
                        </td>
                        <td><button class="btn btn-warning" type="button" value=""><i class="fa fa-trash"> Excluir</i></button></td>
                    </tr>
                }

            </tbody>
        </table>
    </div>
</div>

<div class="row">
    <div class="col-lg-12">
        <h4 class="page-header">
            Gerente de Contas:
        </h4>
    </div>
</div>

<div class="row">
    <div class="col-lg-12 ">
        <div class="form-group col-md-6">
            <label>Vendedores: </label>
            @Html.DropDownList("Contratos[0].VendedorId", (IEnumerable<SelectListItem>)ViewBag.Vendedores, new { @class = "form-control" })
        </div>
    </div>
</div>
