@model B2BTecnology.Financeiro.Web.Models.PagametoViewModel


@Html.Hidden("ContratoId", Model.Pagamento.ContratoId)
<div class="row">
    <div class="col-lg-12 ">
        <div class="form-group col-md-11">
            <label class="control-label">Valor Gasto: </label>
            <div class="form-group input-group">
                <span class="input-group-btn"><button class="btn btn-default" id="inserir" type="button"><i class="fa fa-edit"></i></button></span>
                <input class="form-control numeral" id="ValorGasto" name="Pagamento.ValorGasto" type="text" value="@Model.Pagamento.ValorGasto.ToString("N2")" />
                @*<button class="btn btn-default" id="inserir" type="button"><i class="fa fa-edit"></i></button>*@
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-lg-12 ">
        <div class="form-group col-md-11 form-inline">
            <label class="control-label">Valor Consumo Mínimo: </label>
            <input type="hidden" name="Pagamento.Contrato.ValorConsumoMinimo" value="@Model.Pagamento.Contrato.ValorConsumoMinimo" />
            <label class="" id="ValorConsumoMinimo" type="text">@Model.Pagamento.Contrato.ValorConsumoMinimo</label>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-lg-12 ">
        <div class="form-group col-md-5 form-inline">
            <label class="control-label">Valor Mensalidade: </label>
            <input type="hidden" name="Pagamento.Contrato.ValorMensalidade" value="@Model.Pagamento.Contrato.ValorMensalidade" />
            <label class="" id="ValorMensalidade" type="text">@Model.Pagamento.Contrato.ValorMensalidade</label>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-lg-12 ">
        <div class="form-group col-md-5 form-inline">
            <label class="control-label">Valor à Pagar: </label>
            <input type="hidden" name="Pagamento.ValorPago" value="@Model.Pagamento.ValorPago" />
            <label class="" id="ValorPago" type="text">@Model.Pagamento.ValorPago.ToString("N2")</label>
        </div>
        <div class="form-group col-md-6 form-inline">
            <label class="control-label">Manter Valor Gasto?: </label>
            <input class="checkbox" id="ManterValorGasto" type="checkbox" value="false" />
        </div>
    </div>
</div>

<div class="row">
    <div class="col-lg-12 ">
        <div class="form-group col-md-5 form-inline">
            <label class="control-label">Pago: </label>
            <input type="checkbox" id="Pago" value="false" />
        </div>
    </div>
</div>


<div class="row">
    <div class="col-lg-12 ">
        <div class="form-group col-md-12">
            <div class="table-responsive">
                <table id="tabelaPagamentos" class="table table-hover table-striped">
                    <thead>
                        <tr>
                            <th style="width: 12%">Código Contrato</th>
                            <th style="width: 30%">Nome</th>
                            <th style="width: 16%">Data Pagamento</th>
                            <th style="width: 16%">Valor Pago</th>
                            <th style="width: 10%">Pago</th>
                            <th style="width: 10%"></th>
                        </tr>
                    </thead>
                    <tbody>
                        @for (int i = 0; i < Model.Pagamentos.Count(); i++)
                        {
                            var pagamento = Model.Pagamentos.ToList()[i];
                            <tr id="@(string.Format("row-{0}", i))">
                                <td>
                                    <input type="hidden" value="@pagamento.IdPagamento" name="@("Pagamentos[" + i + "].IdPagamento")" />
                                    <input type="hidden" value="@pagamento.ValorGasto" name="@("Pagamentos[" + i + "].ValorGasto")" />
                                    <label name="@(string.Format("Pagamentos[{0}].ContratoId", i))">@pagamento.Contrato.IdContrato</label>
                                </td>
                                <td>
                                    <input type="hidden" value="@pagamento.Contrato.ClienteId" name="@("Pagamentos[" + i + "].Contrato.ClienteId")" />
                                    <label>@pagamento.Contrato.NomeCliente</label>
                                </td>
                                <td>
                                    <input type="hidden" value="@pagamento.DataPagamento" name="@("Pagamentos[" + i + "].DataPagamento")" />
                                    <label >@pagamento.DataPagamento.ToString("y")</label>
                                </td>
                                <td>
                                    <input type="hidden" value="@pagamento.ValorGasto" name="@("Pagamentos[" + i + "].ValorGasto")" />
                                    <input type="hidden" value="@pagamento.ValorPago" name="@("Pagamentos[" + i + "].ValorPago")" />
                                    <label >@pagamento.ValorPago.ToString("N2")</label>
                                </td>
                                <td>
                                    <input type="hidden" value="@pagamento.Pago" name="@("Pagamentos[" + i + "].Pago")" />
                                    <input type="checkbox" id="@("Pagamentos[" + i + "].Pago")" value="@pagamento.Pago" @(pagamento.Pago ? "checked" : "") />
                                </td>
                                <td>
                                    <button class="btn btn-warning" type="button" value=""><i class="fa fa-trash"> Excluir</i></button>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>